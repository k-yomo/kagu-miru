
type Query {
    search(input: SearchInput): SearchResponse!
    getQuerySuggestions(query: String!): [String!]!
}

type PageInfo {
    page: Int!
    totalPage: Int!
}

enum ItemStatus {
    ACTIVE
    INACTIVE
}

enum ItemSellingPlatform {
    RAKUTEN
}

type Item {
    id: ID!
    name: String!
    description: String!
    status: ItemStatus!
    url: String!
    affiliateUrl: String!
    price: Int!
    imageUrls: [String!]!
    averageRating: Float!
    reviewCount: Int!
    platform: ItemSellingPlatform!
}

type ItemConnection {
    pageInfo: PageInfo!
    nodes: [Item!]!
}

type SearchResponse {
    itemConnection: ItemConnection!
}

enum SearchSortType {
    BEST_MATCH
    PRICE_ASC
    PRICE_DESC
    REVIEW_COUNT
    RATING
}

input SearchInput {
    query: String!
    sortType: SearchSortType!
    page: Int
    pageSize: Int
}
